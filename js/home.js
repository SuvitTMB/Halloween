var _0x557301=_0x5d1d;(function(_0x16b88c,_0x253853){var _0x2590fe=_0x5d1d,_0x5f2578=_0x16b88c();while(!![]){try{var _0x3d890e=-parseInt(_0x2590fe(0x103))/0x1*(parseInt(_0x2590fe(0xcc))/0x2)+-parseInt(_0x2590fe(0xcf))/0x3*(parseInt(_0x2590fe(0xc7))/0x4)+-parseInt(_0x2590fe(0xea))/0x5*(parseInt(_0x2590fe(0xd1))/0x6)+-parseInt(_0x2590fe(0x108))/0x7+-parseInt(_0x2590fe(0x100))/0x8+-parseInt(_0x2590fe(0xcb))/0x9+-parseInt(_0x2590fe(0x11d))/0xa*(-parseInt(_0x2590fe(0x10e))/0xb);if(_0x3d890e===_0x253853)break;else _0x5f2578['push'](_0x5f2578['shift']());}catch(_0x4aed6b){_0x5f2578['push'](_0x5f2578['shift']());}}}(_0x335d,0x7d5ff));var dateString=new Date()[_0x557301(0xe6)](_0x557301(0x102),{'timeZone':_0x557301(0xdf)}),today=new Date(),dd=String(today[_0x557301(0xfd)]())['padStart'](0x2,'0'),mm=String(today[_0x557301(0xfc)]()+0x1)['padStart'](0x2,'0'),yyyy=today['getFullYear']()+0x21f;today=dd+'/'+mm+'/'+yyyy;var cleararray='',Eid='',ArrRewards=[],NewRewards='',gcheck=0x0,Xgiftname='',XCheckRewards=0x0,arrMoonCake=Array([0x1,_0x557301(0x12d)],[0x2,_0x557301(0x119)],[0x3,_0x557301(0x11f)],[0x4,_0x557301(0xee)],[0x5,'Halloween#5'],[0x6,'Halloween#6'],[0x7,'Halloween#7'],[0x8,_0x557301(0x104)],[0x9,_0x557301(0x120)]);$(document)[_0x557301(0xf4)](function(){var _0x3c67b4=_0x557301;sessionStorage[_0x3c67b4(0x118)](_0x3c67b4(0xd4))==null&&(location[_0x3c67b4(0x101)]='index.html'),Connect_DB(),dbGiftRewards=firebase[_0x3c67b4(0xd0)]()[_0x3c67b4(0xdc)](_0x3c67b4(0x109)),CountRewards(),CheckData();});function CheckData(){var _0x124d08=_0x557301,_0x5c9fb6='';dbGiftRewards[_0x124d08(0x127)](_0x124d08(0x11b),'==',sessionStorage[_0x124d08(0x118)](_0x124d08(0xd4)))[_0x124d08(0xe9)]()[_0x124d08(0x10f)](_0x58f5a5=>{var _0x48c2f2=_0x124d08;_0x58f5a5[_0x48c2f2(0xfe)](_0x5bcdb4=>{var _0xff5391=_0x48c2f2;gcheck=0x1,Xgiftname=_0x5bcdb4[_0xff5391(0xf3)]()['giftname'],document[_0xff5391(0xe1)]('loading')[_0xff5391(0xe5)][_0xff5391(0xca)]=_0xff5391(0xf6),document[_0xff5391(0xe1)]('DisplayActive')[_0xff5391(0xe5)][_0xff5391(0xca)]=_0xff5391(0xf6),document[_0xff5391(0xe1)](_0xff5391(0xdd))['style'][_0xff5391(0xca)]=_0xff5391(0x113),_0x5c9fb6+=_0xff5391(0xf0),_0x5c9fb6+='<div\x20style=\x22margin:20px\x20auto;\x22><img\x20src=\x22./img/'+_0x5bcdb4[_0xff5391(0xf3)]()[_0xff5391(0xfa)]+'.png\x22\x20style=\x22max-height:150px;\x22></div>',_0x5bcdb4[_0xff5391(0xf3)]()[_0xff5391(0xfa)]==_0xff5391(0xd7)?(_0x5c9fb6+=_0xff5391(0x12b),_0x5c9fb6+=_0xff5391(0xe0)):(_0x5c9fb6+=_0xff5391(0xf7)+_0x5bcdb4['data']()[_0xff5391(0xf5)]+_0xff5391(0xc8),_0x5c9fb6+='<div\x20class=\x22clr\x22></div>'),_0x5c9fb6+='</center>',$(_0xff5391(0xda))[_0xff5391(0x125)](_0x5c9fb6);}),gcheck==0x0&&(document[_0x48c2f2(0xe1)](_0x48c2f2(0x106))[_0x48c2f2(0xe5)][_0x48c2f2(0xca)]=_0x48c2f2(0xf6),document['getElementById'](_0x48c2f2(0xf9))['style'][_0x48c2f2(0xca)]='block',document[_0x48c2f2(0xe1)](_0x48c2f2(0xdd))[_0x48c2f2(0xe5)]['display']=_0x48c2f2(0xf6),sessionStorage[_0x48c2f2(0x118)](_0x48c2f2(0x116))==null&&(sessionStorage[_0x48c2f2(0xd9)](_0x48c2f2(0x116),_0x48c2f2(0x10a)),document[_0x48c2f2(0xe1)](_0x48c2f2(0xe2))[_0x48c2f2(0xe5)][_0x48c2f2(0xca)]='block'));}),MoonCake();}function MoonCake(){var _0x301474=_0x557301,_0x54a515='',_0x100060=0x9;for(let _0x29b31f=0x0;_0x29b31f<_0x100060;_0x29b31f++){_0x54a515+=_0x301474(0x11a)+arrMoonCake[_0x29b31f][0x0]+_0x301474(0x12c)+arrMoonCake[_0x29b31f][0x1]+_0x301474(0xde)+arrMoonCake[_0x29b31f][0x0]+_0x301474(0xe3),_0x54a515+=_0x301474(0x114)+arrMoonCake[_0x29b31f][0x1]+'</div></div>';}$('#DisplayMoonCake')['html'](_0x54a515);}function OpenCake(_0x13e22c,_0x16ebe1){var _0x25bf71=_0x557301,_0x267f00='';dbGiftRewards[_0x25bf71(0x127)](_0x25bf71(0x11b),'==',sessionStorage[_0x25bf71(0x118)]('EmpID_Moon2023'))['limit'](0x1)[_0x25bf71(0xe9)]()['then'](_0x4cef46=>{var _0x51a054=_0x25bf71;_0x4cef46[_0x51a054(0xfe)](_0x2617a8=>{var _0x5cd4bc=_0x51a054;gcheck=0x1,_0x267f00+=_0x5cd4bc(0xc9),_0x267f00+=_0x5cd4bc(0x126)+_0x2617a8[_0x5cd4bc(0xf3)]()[_0x5cd4bc(0xfa)]+_0x5cd4bc(0xe4),_0x2617a8[_0x5cd4bc(0xf3)]()['giftcode']==_0x5cd4bc(0xd7)?(_0x267f00+=_0x5cd4bc(0x12b),_0x267f00+=_0x5cd4bc(0x122),_0x267f00+=_0x5cd4bc(0xed)):(_0x267f00+=_0x5cd4bc(0xf7)+_0x2617a8['data']()[_0x5cd4bc(0xf5)]+_0x5cd4bc(0xc8),_0x267f00+=_0x5cd4bc(0x122),_0x267f00+=_0x5cd4bc(0xed)),$(_0x5cd4bc(0xcd))[_0x5cd4bc(0x125)](_0x267f00),document[_0x5cd4bc(0xe1)]('id01')['style'][_0x5cd4bc(0xca)]=_0x5cd4bc(0x113);}),gcheck==0x0&&(_0x267f00+=_0x51a054(0xd3),_0x267f00+=_0x51a054(0x12a)+_0x13e22c+_0x51a054(0xec),_0x267f00+='<div\x20class=\x22text-product\x22>'+_0x16ebe1+'</div>',_0x267f00+=_0x51a054(0xd6),_0x267f00+=_0x51a054(0xf2),_0x267f00+='<div\x20class=\x22clr\x22\x20style=\x22height:\x2010px;\x22></div>',$('#ShowMoonCake')['html'](_0x267f00),document[_0x51a054(0xe1)]('id01')[_0x51a054(0xe5)][_0x51a054(0xca)]=_0x51a054(0x113));});}function CheckRewards(){var _0x18a101=_0x557301,_0x24c8bc='',_0x5a8b55=_0x18a101(0xf8);$('#ShowMoonCake')[_0x18a101(0x125)](cleararray),document[_0x18a101(0xe1)](_0x18a101(0xf9))['style'][_0x18a101(0xca)]=_0x18a101(0xf6),document[_0x18a101(0xe1)](_0x18a101(0xdd))[_0x18a101(0xe5)][_0x18a101(0xca)]='none',$(_0x18a101(0xda))['html'](cleararray),_0x24c8bc+=_0x18a101(0xeb),_0x24c8bc+='<div\x20class=\x22progress\x20blue\x22><span\x20class=\x22progress-left\x22>',_0x24c8bc+=_0x18a101(0x11c),_0x24c8bc+='<span\x20class=\x22progress-right\x22><span\x20class=\x22progress-bar\x22></span></span>',_0x24c8bc+=_0x18a101(0x10d)+_0x5a8b55[_0x18a101(0xe7)]()+_0x18a101(0xd2),_0x24c8bc+=_0x18a101(0x10b),$(_0x18a101(0xcd))[_0x18a101(0x125)](_0x24c8bc);var _0x50eacc=setTimeout(RandomRewards,0x3e8);}function CountRewards(){var _0x30f461=_0x557301,_0x24ed3e=0x0;dbGiftRewards[_0x30f461(0x127)](_0x30f461(0x11b),'!=','')[_0x30f461(0xe9)]()[_0x30f461(0x10f)](_0x800890=>{var _0x206002=_0x30f461;_0x800890[_0x206002(0xfe)](_0x6ce0c7=>{_0x24ed3e=_0x24ed3e+0x1;}),$('#CountUser')[_0x206002(0x125)]('ขณะนี้มีผู้ร่วมกิจกรรมแล้ว\x20<span\x20class=\x27font18\x27>'+addCommas(_0x24ed3e)+_0x206002(0xe8)),console[_0x206002(0x11e)](_0x24ed3e);});}function RandomRewards(){var _0x1a004e=_0x557301,_0x3ce531=0x0;Eidewards='',dbGiftRewards['where'](_0x1a004e(0x11b),'==','')[_0x1a004e(0xe9)]()['then'](_0x367c7a=>{var _0x4fff73=_0x1a004e;_0x367c7a[_0x4fff73(0xfe)](_0x222b73=>{var _0x20a138=_0x4fff73;_0x3ce531=_0x3ce531+0x1,ArrRewards[_0x20a138(0xd5)]([_0x222b73['id'],_0x222b73[_0x20a138(0xf3)]()['giftname'],_0x222b73[_0x20a138(0xf3)]()[_0x20a138(0xfa)]]);}),NewRewards=random_item(ArrRewards),Eid=NewRewards[0x0],NewRewards[0x2]!=_0x4fff73(0xd7)&&(XCheckRewards=0x1),UpdateRewards();});}function _0x335d(){var _0x2d20c5=['toFixed','DisplayText','test','getItem','Halloween#2','<div\x20onclick=\x22OpenCake(\x27','EmpID','<span\x20class=\x22progress-bar\x22></span></span>','80rSbmqa','log','Halloween#3','Halloween#9','replace','<div\x20class=\x22btn-t2\x22\x20onclick=\x22CloseAll()\x22\x20style=\x22margin-top:10px;\x22>ปิดหน้าต่างนี้</div>','length','now','html','<div\x20style=\x22margin:20px\x20auto;\x22><img\x20src=\x22./img/','where','LinePicture','doc','<div><img\x20src=\x22./img/g-','<div\x20style=\x22color:#fff;\x22><b>เสียใจด้วยน้า</b>\x20คุณไม่ได้รับรางวัล<br>จาก\x20...\x20<b>กิจกรรมวันฮาโลวีน</b><br>แล้วมาร่วมกิจกรรมกันใหม่ในกิจกรรมหน้าน้า</div>','\x27,\x27','Halloween#1','45932DdJlBg','</b><br>เราจะทำการจัดส่งของรางวัลไปให้หลังจบกิจกรรมนี้</div>','<div\x20class=\x22btn-1\x22\x20style=\x22margin-top:25px;\x20margin-bottom:\x2015px;\x20background:#0056ff;\x20color:#fff;\x22>ผลการสุ่มรางวัลของคุณ</div>','display','5148585gQtMgy','161342HkerLs','#ShowMoonCake','random','159skZFnx','firestore','6CUsAZC','</div></div></div><div\x20style=\x22color:#fff;\x22>...\x20โปรดรอสักครู่\x20...</div>','<div\x20class=\x22btn-1\x22\x20style=\x22margin-top:25px;\x20margin-bottom:\x2015px;\x20background:#0056ff;\x20color:#fff;\x22>กิจกรรมสุ่มรับโชค</div>','EmpID_Moon2023','push','<div\x20class=\x22btn-t2\x22\x20onclick=\x22CheckRewards()\x22\x20style=\x22margin:10px\x20auto;background:#12ca3c;\x20margin-right:10px;border:2px\x20solid\x20#fff;\x22>คลิกสุ่มรับโชค</div>','gift-99','split','setItem','#DisplayGift','EmpPhone','collection','DisplayMyReward','\x27)\x22\x20class=\x22box_gift\x22><div\x20style=\x22padding:5px\x22><img\x20src=\x22./img/g-','Asia/Jakarta','<div\x20class=\x22clr\x22></div>','getElementById','id02','.png\x22\x20style=\x22width:80px;\x22></div>','.png\x22\x20style=\x22max-height:220px;\x22></div>','style','toLocaleString','blink','</span>\x20คน','get','902015JEsfME','<div\x20class=\x22btn-1\x22\x20style=\x22margin-top:25px;\x20margin-bottom:\x2015px;\x20background:#0056ff;\x20color:#fff;\x22>เรากำลังสุ่มรางวัลของคุณ</div>','.png\x22\x20style=\x22width:80%;\x22></div>','<div\x20class=\x22clr\x22></div></center>','Halloween#4','round','<center><div\x20class=\x22btn-1\x22\x20style=\x22margin-top:35px;\x20margin-bottom:\x2015px;\x22>ผลการสุ่มรางวัลของคุณ</div>','getHours','<div\x20class=\x22btn-t2\x22\x20onclick=\x22CloseAll()\x22\x20style=\x22margin:10px\x20auto;background:#ff0000;border:2px\x20solid\x20#fff;\x20color:#fff;\x22>เลือกรายการใหม่</div>','data','ready','giftname','none','<div\x20style=\x22color:#fff;\x22><b>ยินดีด้วย</b>\x20คุณได้รับรางวัล<br>จาก\x20...\x20<b>กิจกรรมวันฮาโลวีน</b><br>ของรางวัลที่สุ่มได้คือ\x20<b>','กำลังสุ่มรางวัล','DisplayActive','giftcode','update','getMonth','getDate','forEach','LineID','2122672psSuWB','href','en-US','3IlcSrk','Halloween#8','toString','loading','.png\x22\x20style=\x22max-height:150px;\x22></div>','2877693WQPNIq','Gift2023Rewards','Show','<div\x20class=\x22clr\x22\x20style=\x22height:\x2040px;\x22>','rewards.html','<div\x20class=\x22progress-value\x22\x20style=\x22font-size:16px;\x22><div\x20class=\x22blink\x22>','3840441iHOLam','then','floor','EmpName_Moon2023','getSeconds','block','<div\x20class=\x22text-name\x22>'];_0x335d=function(){return _0x2d20c5;};return _0x335d();}function ShowRewards(){var _0x255c19=_0x557301;XCheckRewards=0x0;var _0x5d895e='',_0x1c6903=setTimeout(CheckData,0x5dc);_0x5d895e+=_0x255c19(0xc9),_0x5d895e+=_0x255c19(0x126)+NewRewards[0x2]+_0x255c19(0x107),NewRewards[0x2]=='gift-99'?_0x5d895e+=_0x255c19(0x12b):_0x5d895e+=_0x255c19(0xf7)+NewRewards[0x1]+_0x255c19(0xc8),_0x5d895e+=_0x255c19(0x122),_0x5d895e+=_0x255c19(0xed),$(_0x255c19(0xcd))[_0x255c19(0x125)](_0x5d895e),CountRewards();}function UpdateRewards(){var _0x38f873=_0x557301;NewDate();var _0xeff4d5=Math[_0x38f873(0xef)](Date[_0x38f873(0x124)]()/0x3e8);dbGiftRewards[_0x38f873(0x129)](Eid)[_0x38f873(0xfb)]({'LineID':sessionStorage[_0x38f873(0x118)](_0x38f873(0xff)),'LineName':sessionStorage[_0x38f873(0x118)]('LineName'),'LinePicture':sessionStorage[_0x38f873(0x118)](_0x38f873(0x128)),'EmpID':sessionStorage[_0x38f873(0x118)](_0x38f873(0xd4)),'EmpName':sessionStorage['getItem'](_0x38f873(0x111)),'Phone':sessionStorage['getItem'](_0x38f873(0xdb)),'address':sessionStorage[_0x38f873(0x118)]('EmpAddress'),'ResultQuiz':NewRewards[0x2],'StatusSend':XCheckRewards,'DateRegister':dateString});var _0x41cb04=setTimeout(ShowRewards,0x7d0);}function NewDate(){var _0x59c684=_0x557301,_0x213bb2=new Date(),_0x421be2=_0x213bb2[_0x59c684(0xfd)]()+'',_0x7bae94=_0x213bb2[_0x59c684(0xfc)]()+0x1+'',_0x142fca=_0x213bb2['getFullYear']()+'',_0x28ca31=_0x213bb2[_0x59c684(0xf1)]()+'',_0x153929=_0x213bb2['getMinutes']()+'',_0xeb36c3=_0x213bb2[_0x59c684(0x112)]()+'',_0x193150=_0x28ca31>=0xc?'PM':'AM';_0x421be2=checkZero(_0x421be2),_0x7bae94=checkZero(_0x7bae94),_0x142fca=checkZero(_0x142fca),_0x28ca31=checkZero(_0x28ca31),_0x153929=checkZero(_0x153929),_0xeb36c3=checkZero(_0xeb36c3),dateString=_0x421be2+'/'+_0x7bae94+'/'+_0x142fca+'\x20'+_0x28ca31+':'+_0x153929+':'+_0xeb36c3+'\x20'+_0x193150;}function checkZero(_0x1db78d){return _0x1db78d['length']==0x1&&(_0x1db78d='0'+_0x1db78d),_0x1db78d;}function addCommas(_0x42a384){var _0x179338=_0x557301;_0x42a384+='',x=_0x42a384[_0x179338(0xd8)]('.'),x1=x[0x0],x2=x[_0x179338(0x123)]>0x1?'.'+x[0x1]:'';var _0xd56bb=/(\d+)(\d{3})/;while(_0xd56bb[_0x179338(0x117)](x1)){x1=x1[_0x179338(0x121)](_0xd56bb,'$1'+','+'$2');}return x1+x2;}function numberWithCommas(_0x58daf0){var _0x563e6e=_0x557301,_0x127ef3=_0x58daf0,_0x400dad=parseFloat(_0x127ef3)[_0x563e6e(0x115)](0x2);return formattedString=_0x400dad[_0x563e6e(0x105)]()[_0x563e6e(0x121)](/\B(?=(\d{3})+(?!\d))/g,',');}function GotoRewards(){var _0xe3f331=_0x557301;location[_0xe3f331(0x101)]=_0xe3f331(0x10c);}function _0x5d1d(_0x268c55,_0xd81edf){var _0x335d99=_0x335d();return _0x5d1d=function(_0x5d1d01,_0x30434e){_0x5d1d01=_0x5d1d01-0xc7;var _0x46426d=_0x335d99[_0x5d1d01];return _0x46426d;},_0x5d1d(_0x268c55,_0xd81edf);}function random_item(_0x175072){var _0xf6b120=_0x557301;return _0x175072[Math[_0xf6b120(0x110)](Math[_0xf6b120(0xce)]()*_0x175072[_0xf6b120(0x123)])];}function CloseAll(){var _0xf31ac6=_0x557301;document['getElementById']('id01')[_0xf31ac6(0xe5)]['display']=_0xf31ac6(0xf6),document[_0xf31ac6(0xe1)](_0xf31ac6(0xe2))[_0xf31ac6(0xe5)][_0xf31ac6(0xca)]=_0xf31ac6(0xf6);}
